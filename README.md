# Huffman Encoder/Decoder
<h1 align="center">
    <img src="https://github.com/martian17/huffman/blob/main/visualize/huffman.png?raw=true">
</h1>
This is an implementation of huffman compressor/de-compressor. The compressor (encoder) generates bitwise huffman trees based on the inputs, and compresses the input accordingly, and stores it with the compressed table.  
Reverse is done in the de-compressor (decoder).

## Usage
The argument order follows that of `zip`
```bash
./encode dest_file source_file
./decode source_file dest_file
```

## Compilation
GNU make is required
```bash
make # generates encode and decode executables
```

## Header
The header consists of three segments, document size, size of the code size indicator, and finally the compressed table.
The following is one such header.
```
00100111 10001010 11000000 00000000 00000000 00000000 00000000 00000000 
10100000 00000000 00000000 01111000 11101011 11000100 11100000 00000000 
00000000 11100011 11000011 10011111 10111000 00001010 10110010 11011111 
10011101 11001110 01000011 10011111 10111010 01011001 10000111 11001110 
11100111 01111100 01000100 10101011 00111100 10001011 00111010 00101100 
10101000 10011101 10100010 01001101 11001001 00110001 10010010 00000111 
00100100 00100101 01011001 01110101 01011001 11110111 10011001 10100010 
01000001 00011101 01100111 11110111 10001111 00101010 10110100 00111010 
10110100 10010101 01011010 00111001 00100000 00110110 11001111 11010111 
10010110 11101010 01000010 10100010 01000011 11001001 11011111 10110011 
10111001 10110010 01001100 11110101 01101001 01111010 10110100 11010101 
00111011 10110101 00100001 01101010 10110011 11011010 10110010 11111010 
10110010 11001011 10110011 11110110 01110100 11101110 00011111 01100111 
11101111 10011001 11011100 10000000 10010010 10101100 00010010 11000001 
01110100 11010111 00000110 11001011 00111100 11001001 00100100 01101001 
10111001 10101101 00111110 00101011 01011101 00000111 01100110 00110010 
00110100 10000001 11100011 11011011 10011101 11001111 11010010 11110010 
00101100 10010011 01100011 11111110 00100011 10110001 11001001 10110011 
11110010 11000100 10100110 10110100 11100000 00000000 00000000 00000000 
00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 
00000000 00000000 00000000 00000000 00000000 0
```

### Document Size
The first 64 bits of the header is dedicated to the document size. It indicates the size of the document before compression in a little endian format. The following example indicates the document size of `217572`
```
00100111 10001010 11000000 00000000 00000000 00000000 00000000 00000000 
```

### Size of the code size indicator
The next 16 bits indicates the size of the code size in the compressed table.
```
10100000 00000000
```

### compressed table
The next segment documents the compressed table. It consists of 256 entries, and each entry follows a special variable length format. When the entry is prefixed by 0, it is empty. When the entry is prefixed by 1, it contains values, and followed by the code size indicator, and the code itself. The size of the code size indicator is described in the previous segment.
```
                  00000000 01111000 11101011 11000100 11100000 00000000 
00000000 11100011 11000011 10011111 10111000 00001010 10110010 11011111 
10011101 11001110 01000011 10011111 10111010 01011001 10000111 11001110 
11100111 01111100 01000100 10101011 00111100 10001011 00111010 00101100 
10101000 10011101 10100010 01001101 11001001 00110001 10010010 00000111 
00100100 00100101 01011001 01110101 01011001 11110111 10011001 10100010 
01000001 00011101 01100111 11110111 10001111 00101010 10110100 00111010 
10110100 10010101 01011010 00111001 00100000 00110110 11001111 11010111 
10010110 11101010 01000010 10100010 01000011 11001001 11011111 10110011 
10111001 10110010 01001100 11110101 01101001 01111010 10110100 11010101 
00111011 10110101 00100001 01101010 10110011 11011010 10110010 11111010 
10110010 11001011 10110011 11110110 01110100 11101110 00011111 01100111 
11101111 10011001 11011100 10000000 10010010 10101100 00010010 11000001 
01110100 11010111 00000110 11001011 00111100 11001001 00100100 01101001 
10111001 10101101 00111110 00101011 01011101 00000111 01100110 00110010 
00110100 10000001 11100011 11011011 10011101 11001111 11010010 11110010 
00101100 10010011 01100011 11111110 00100011 10110001 11001001 10110011 
11110010 11000100 10100110 10110100 11100000 00000000 00000000 00000000 
00000000 00000000 00000000 00000000 00000000 00000000 00000000 00000000 
00000000 00000000 00000000 00000000 00000000 0
```

## Body
The body consists of a concatenated bit sequence of huffman codes.

## Effectiveness
The encoder is about half as effective as zip at compressing english text files.
